CREATE TABLE [Purchasing].[PurchaseOrderDetail](	  [PurchaseOrderID] INT NOT NULL	, [PurchaseOrderDetailID] INT NOT NULL IDENTITY(1         ,1)	, [DueDate] DATETIME NOT NULL	, [OrderQty] SMALLINT NOT NULL	, [ProductID] INT NOT NULL	, [UnitPrice] MONEY NOT NULL	, [LineTotal] AS (isnull([OrderQty]*[UnitPrice],(0.00)))	, [ReceivedQty] DECIMAL(8,2) NOT NULL	, [RejectedQty] DECIMAL(8,2) NOT NULL	, [StockedQty] AS (isnull([ReceivedQty]-[RejectedQty],(0.00)))	, [ModifiedDate] DATETIME NOT NULL DEFAULT(getdate())	, CONSTRAINT [PK_PurchaseOrderDetail_PurchaseOrderID_PurchaseOrderDetailID] PRIMARY KEY ([PurchaseOrderID] ASC, [PurchaseOrderDetailID] ASC))GOALTER TABLE [Purchasing].[PurchaseOrderDetail] WITH CHECK ADD CONSTRAINT [FK_PurchaseOrderDetail_PurchaseOrderHeader_PurchaseOrderID] FOREIGN KEY([PurchaseOrderID]) REFERENCES [Purchasing].[PurchaseOrderHeader] ([PurchaseOrderID])GOALTER TABLE [Purchasing].[PurchaseOrderDetail] CHECK CONSTRAINT [FK_PurchaseOrderDetail_PurchaseOrderHeader_PurchaseOrderID]GOALTER TABLE [Purchasing].[PurchaseOrderDetail] WITH CHECK ADD CONSTRAINT [FK_PurchaseOrderDetail_Product_ProductID] FOREIGN KEY([ProductID]) REFERENCES [Production].[Product] ([ProductID])GOALTER TABLE [Purchasing].[PurchaseOrderDetail] CHECK CONSTRAINT [FK_PurchaseOrderDetail_Product_ProductID]GOCREATE NONCLUSTERED INDEX [IX_PurchaseOrderDetail_ProductID] ON [Purchasing].[PurchaseOrderDetail] ([ProductID] ASC)GO