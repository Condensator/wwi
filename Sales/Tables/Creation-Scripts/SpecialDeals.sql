CREATE TABLE [Sales].[SpecialDeals](	  [SpecialDealID] INT NOT NULL DEFAULT(NEXT VALUE FOR [Sequences].[SpecialDealID])	, [StockItemID] INT NULL	, [CustomerID] INT NULL	, [BuyingGroupID] INT NULL	, [CustomerCategoryID] INT NULL	, [StockGroupID] INT NULL	, [DealDescription] NVARCHAR(30) COLLATE Latin1_General_100_CI_AS NOT NULL	, [StartDate] DATE NOT NULL	, [EndDate] DATE NOT NULL	, [DiscountAmount] DECIMAL(18,2) NULL	, [DiscountPercentage] DECIMAL(18,3) NULL	, [UnitPrice] DECIMAL(18,2) NULL	, [LastEditedBy] INT NOT NULL	, [LastEditedWhen] DATETIME2(7) NOT NULL DEFAULT(sysdatetime())	, CONSTRAINT [PK_Sales_SpecialDeals] PRIMARY KEY ([SpecialDealID] ASC))GOALTER TABLE [Sales].[SpecialDeals] WITH CHECK ADD CONSTRAINT [FK_Sales_SpecialDeals_StockItemID_Warehouse_StockItems] FOREIGN KEY([StockItemID]) REFERENCES [Warehouse].[StockItems] ([StockItemID])GOALTER TABLE [Sales].[SpecialDeals] CHECK CONSTRAINT [FK_Sales_SpecialDeals_StockItemID_Warehouse_StockItems]GOALTER TABLE [Sales].[SpecialDeals] WITH CHECK ADD CONSTRAINT [FK_Sales_SpecialDeals_StockGroupID_Warehouse_StockGroups] FOREIGN KEY([StockGroupID]) REFERENCES [Warehouse].[StockGroups] ([StockGroupID])GOALTER TABLE [Sales].[SpecialDeals] CHECK CONSTRAINT [FK_Sales_SpecialDeals_StockGroupID_Warehouse_StockGroups]GOALTER TABLE [Sales].[SpecialDeals] WITH CHECK ADD CONSTRAINT [FK_Sales_SpecialDeals_CustomerID_Sales_Customers] FOREIGN KEY([CustomerID]) REFERENCES [Sales].[Customers] ([CustomerID])GOALTER TABLE [Sales].[SpecialDeals] CHECK CONSTRAINT [FK_Sales_SpecialDeals_CustomerID_Sales_Customers]GOALTER TABLE [Sales].[SpecialDeals] WITH CHECK ADD CONSTRAINT [FK_Sales_SpecialDeals_CustomerCategoryID_Sales_CustomerCategories] FOREIGN KEY([CustomerCategoryID]) REFERENCES [Sales].[CustomerCategories] ([CustomerCategoryID])GOALTER TABLE [Sales].[SpecialDeals] CHECK CONSTRAINT [FK_Sales_SpecialDeals_CustomerCategoryID_Sales_CustomerCategories]GOALTER TABLE [Sales].[SpecialDeals] WITH CHECK ADD CONSTRAINT [FK_Sales_SpecialDeals_BuyingGroupID_Sales_BuyingGroups] FOREIGN KEY([BuyingGroupID]) REFERENCES [Sales].[BuyingGroups] ([BuyingGroupID])GOALTER TABLE [Sales].[SpecialDeals] CHECK CONSTRAINT [FK_Sales_SpecialDeals_BuyingGroupID_Sales_BuyingGroups]GOALTER TABLE [Sales].[SpecialDeals] WITH CHECK ADD CONSTRAINT [FK_Sales_SpecialDeals_Application_People] FOREIGN KEY([LastEditedBy]) REFERENCES [Application].[People] ([PersonID])GOALTER TABLE [Sales].[SpecialDeals] CHECK CONSTRAINT [FK_Sales_SpecialDeals_Application_People]GOCREATE NONCLUSTERED INDEX [FK_Sales_SpecialDeals_StockItemID] ON [Sales].[SpecialDeals] ([StockItemID] ASC)GOCREATE NONCLUSTERED INDEX [FK_Sales_SpecialDeals_CustomerID] ON [Sales].[SpecialDeals] ([CustomerID] ASC)GOCREATE NONCLUSTERED INDEX [FK_Sales_SpecialDeals_BuyingGroupID] ON [Sales].[SpecialDeals] ([BuyingGroupID] ASC)GOCREATE NONCLUSTERED INDEX [FK_Sales_SpecialDeals_CustomerCategoryID] ON [Sales].[SpecialDeals] ([CustomerCategoryID] ASC)GOCREATE NONCLUSTERED INDEX [FK_Sales_SpecialDeals_StockGroupID] ON [Sales].[SpecialDeals] ([StockGroupID] ASC)GO